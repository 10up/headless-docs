"use strict";(self.webpackChunkheadless_doc=self.webpackChunkheadless_doc||[]).push([[4881],{3905:(e,t,a)=>{a.d(t,{Zo:()=>d,kt:()=>h});var n=a(7294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function p(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var s=n.createContext({}),o=function(e){var t=n.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},d=function(e){var t=o(e.components);return n.createElement(s.Provider,{value:t},e.children)},k="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},u=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,l=e.originalType,s=e.parentName,d=p(e,["components","mdxType","originalType","parentName"]),k=o(a),u=r,h=k["".concat(s,".").concat(u)]||k[u]||m[u]||l;return a?n.createElement(h,i(i({ref:t},d),{},{components:a})):n.createElement(h,i({ref:t},d))}));function h(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=a.length,i=new Array(l);i[0]=u;var p={};for(var s in t)hasOwnProperty.call(t,s)&&(p[s]=t[s]);p.originalType=e,p[k]="string"==typeof e?e:r,i[1]=p;for(var o=2;o<l;o++)i[o]=a[o];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}u.displayName="MDXCreateElement"},137:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>s,contentTitle:()=>i,default:()=>k,frontMatter:()=>l,metadata:()=>p,toc:()=>o});var n=a(7462),r=(a(7294),a(3905));const l={id:"10up_headless_next",title:"Module: @10up/headless-next",sidebar_label:"@10up/headless-next",sidebar_position:0,custom_edit_url:null},i=void 0,p={unversionedId:"modules/10up_headless_next",id:"modules/10up_headless_next",title:"Module: @10up/headless-next",description:"Namespaces",source:"@site/docs/modules/10up_headless_next.md",sourceDirName:"modules",slug:"/modules/10up_headless_next",permalink:"/api/modules/10up_headless_next",draft:!1,editUrl:null,tags:[],version:"current",sidebarPosition:0,frontMatter:{id:"10up_headless_next",title:"Module: @10up/headless-next",sidebar_label:"@10up/headless-next",sidebar_position:0,custom_edit_url:null},sidebar:"tutorialSidebar",previous:{title:"@10up/headless-core",permalink:"/api/modules/10up_headless_core"},next:{title:"@10up/headless-core.react",permalink:"/api/namespaces/10up_headless_core.react"}},s={},o=[{value:"Namespaces",id:"namespaces",level:2},{value:"Interfaces",id:"interfaces",level:2},{value:"API handlers",id:"api-handlers",level:2},{value:"previewHandler",id:"previewhandler",level:3},{value:"Usage",id:"usage",level:3},{value:"Parameters",id:"parameters",level:4},{value:"Returns",id:"returns",level:4},{value:"Defined in",id:"defined-in",level:4},{value:"revalidateHandler",id:"revalidatehandler",level:3},{value:"Usage",id:"usage-1",level:3},{value:"Parameters",id:"parameters-1",level:4},{value:"Returns",id:"returns-1",level:4},{value:"Defined in",id:"defined-in-1",level:4},{value:"Data Fetching Hooks",id:"data-fetching-hooks",level:2},{value:"useAppSettings",id:"useappsettings",level:3},{value:"Usage",id:"usage-2",level:2},{value:"Server-Side-Rendering or Static-Site-Generation",id:"server-side-rendering-or-static-site-generation",level:3},{value:"Parameters",id:"parameters-2",level:4},{value:"Returns",id:"returns-2",level:4},{value:"Defined in",id:"defined-in-2",level:4},{value:"useAuthorArchive",id:"useauthorarchive",level:3},{value:"Usage",id:"usage-3",level:2},{value:"Fetching an author archive",id:"fetching-an-author-archive",level:3},{value:"Fetching an author archive of pages",id:"fetching-an-author-archive-of-pages",level:3},{value:"Server-Side-Rendering or Static-Site-Generation",id:"server-side-rendering-or-static-site-generation-1",level:3},{value:"Parameters",id:"parameters-3",level:4},{value:"Returns",id:"returns-3",level:4},{value:"Defined in",id:"defined-in-3",level:4},{value:"useMenu",id:"usemenu",level:3},{value:"Usage",id:"usage-4",level:2},{value:"Basic usage",id:"basic-usage",level:3},{value:"Re-fetching client-side on focus and/or mount",id:"re-fetching-client-side-on-focus-andor-mount",level:3},{value:"Parameters",id:"parameters-4",level:4},{value:"Returns",id:"returns-4",level:4},{value:"Defined in",id:"defined-in-4",level:4},{value:"usePost",id:"usepost",level:3},{value:"Usage",id:"usage-5",level:2},{value:"Fetching a post by slug",id:"fetching-a-post-by-slug",level:3},{value:"Fetching a page by slug",id:"fetching-a-page-by-slug",level:3},{value:"Fetching a post or page by slug",id:"fetching-a-post-or-page-by-slug",level:3},{value:"Custom Post Type",id:"custom-post-type",level:3},{value:"Automatically mapping URL params in Next.js",id:"automatically-mapping-url-params-in-nextjs",level:3},{value:"Server-Side-Rendering or Static-Site-Generation",id:"server-side-rendering-or-static-site-generation-2",level:3},{value:"Parameters",id:"parameters-5",level:4},{value:"Returns",id:"returns-5",level:4},{value:"Defined in",id:"defined-in-5",level:4},{value:"usePosts",id:"useposts",level:3},{value:"Usage",id:"usage-6",level:2},{value:"Fetching a list of posts",id:"fetching-a-list-of-posts",level:3},{value:"Fetching a list of pages",id:"fetching-a-list-of-pages",level:3},{value:"Fetching a list of posts from a custom post type",id:"fetching-a-list-of-posts-from-a-custom-post-type",level:3},{value:"Automatically mapping URL params in Next.js",id:"automatically-mapping-url-params-in-nextjs-1",level:3},{value:"Handling multiple WordPress routes in a single next.js route",id:"handling-multiple-wordpress-routes-in-a-single-nextjs-route",level:3},{value:"Taxonomy Archive Pages",id:"taxonomy-archive-pages",level:3},{value:"Author Archive Pages",id:"author-archive-pages",level:3},{value:"Server-Side-Rendering or Static-Site-Generation",id:"server-side-rendering-or-static-site-generation-3",level:3},{value:"Parameters",id:"parameters-6",level:4},{value:"Returns",id:"returns-6",level:4},{value:"Defined in",id:"defined-in-6",level:4},{value:"useSearch",id:"usesearch",level:3},{value:"Usage",id:"usage-7",level:2},{value:"Basic search automatically mapping URL params in Next.js",id:"basic-search-automatically-mapping-url-params-in-nextjs",level:3},{value:"Server-Side-Rendering or Static-Site-Generation",id:"server-side-rendering-or-static-site-generation-4",level:3},{value:"Parameters",id:"parameters-7",level:4},{value:"Returns",id:"returns-7",level:4},{value:"Defined in",id:"defined-in-7",level:4},{value:"useTerms",id:"useterms",level:3},{value:"Usage",id:"usage-8",level:2},{value:"Parameters",id:"parameters-8",level:4},{value:"Returns",id:"returns-8",level:4},{value:"Defined in",id:"defined-in-8",level:4},{value:"Next.js Data Fetching Utilities",id:"nextjs-data-fetching-utilities",level:2},{value:"addHookData",id:"addhookdata",level:3},{value:"Usage",id:"usage-9",level:2},{value:"Parameters",id:"parameters-9",level:4},{value:"Returns",id:"returns-9",level:4},{value:"Defined in",id:"defined-in-9",level:4},{value:"convertToPath",id:"converttopath",level:3},{value:"Parameters",id:"parameters-10",level:4},{value:"Returns",id:"returns-10",level:4},{value:"Defined in",id:"defined-in-10",level:4},{value:"fetchHookData",id:"fetchhookdata",level:3},{value:"Usage",id:"usage-10",level:2},{value:"Parameters",id:"parameters-11",level:4},{value:"Returns",id:"returns-11",level:4},{value:"Defined in",id:"defined-in-11",level:4},{value:"handleError",id:"handleerror",level:3},{value:"Usage",id:"usage-11",level:2},{value:"Parameters",id:"parameters-12",level:4},{value:"Returns",id:"returns-12",level:4},{value:"Defined in",id:"defined-in-12",level:4},{value:"Other",id:"other",level:2},{value:"HeadlessAppProps",id:"headlessappprops",level:3},{value:"Type declaration",id:"type-declaration",level:4},{value:"Defined in",id:"defined-in-13",level:4},{value:"HookState",id:"hookstate",level:3},{value:"Type declaration",id:"type-declaration-1",level:4},{value:"Defined in",id:"defined-in-14",level:4},{value:"LinkBlockProps",id:"linkblockprops",level:3},{value:"Type declaration",id:"type-declaration-2",level:4},{value:"Defined in",id:"defined-in-15",level:4},{value:"PreviewHandlerOptions",id:"previewhandleroptions",level:3},{value:"Type declaration",id:"type-declaration-3",level:4},{value:"Defined in",id:"defined-in-16",level:4},{value:"getSiteFromContext",id:"getsitefromcontext",level:3},{value:"Parameters",id:"parameters-13",level:4},{value:"Returns",id:"returns-13",level:4},{value:"Defined in",id:"defined-in-17",level:4},{value:"React Components",id:"react-components",level:2},{value:"HeadlessApp",id:"headlessapp",level:3},{value:"Usage",id:"usage-12",level:2},{value:"Parameters",id:"parameters-14",level:4},{value:"Returns",id:"returns-14",level:4},{value:"Defined in",id:"defined-in-18",level:4},{value:"ImageComponent",id:"imagecomponent",level:3},{value:"Usage",id:"usage-13",level:2},{value:"Parameters",id:"parameters-15",level:4},{value:"Returns",id:"returns-15",level:4},{value:"Defined in",id:"defined-in-19",level:4},{value:"LinkBlock",id:"linkblock",level:3},{value:"Usage",id:"usage-14",level:2},{value:"Parameters",id:"parameters-16",level:4},{value:"Returns",id:"returns-16",level:4},{value:"Defined in",id:"defined-in-20",level:4},{value:"TwitterBlock",id:"twitterblock",level:3},{value:"Usage",id:"usage-15",level:2},{value:"Parameters",id:"parameters-17",level:4},{value:"Returns",id:"returns-17",level:4},{value:"Defined in",id:"defined-in-21",level:4},{value:"Yoast",id:"yoast",level:3},{value:"Parameters",id:"parameters-18",level:4},{value:"Returns",id:"returns-18",level:4},{value:"Defined in",id:"defined-in-22",level:4}],d={toc:o};function k(e){let{components:t,...a}=e;return(0,r.kt)("wrapper",(0,n.Z)({},d,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h2",{id:"namespaces"},"Namespaces"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/api/namespaces/10up_headless_next.config"},"config")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/api/namespaces/10up_headless_next.middlewares"},"middlewares"))),(0,r.kt)("h2",{id:"interfaces"},"Interfaces"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/api/interfaces/10up_headless_next.FetchHookDataOptions"},"FetchHookDataOptions")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/api/interfaces/10up_headless_next.useAppSettingsResponse"},"useAppSettingsResponse"))),(0,r.kt)("h2",{id:"api-handlers"},"API handlers"),(0,r.kt)("h3",{id:"previewhandler"},"previewHandler"),(0,r.kt)("p",null,"\u25b8 ",(0,r.kt)("strong",{parentName:"p"},"previewHandler"),"(",(0,r.kt)("inlineCode",{parentName:"p"},"req"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"res"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"options?"),"): ",(0,r.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"void")," ","|"," ",(0,r.kt)("inlineCode",{parentName:"p"},"NextApiResponse"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"any"),">",">"),(0,r.kt)("p",null,"The PreviewHandler is responsible for handling preview requests."),(0,r.kt)("p",null,"Handling Previews requires the Headless WordPress Plugin."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Important"),": This function is meant to be used in a api route at ",(0,r.kt)("inlineCode",{parentName:"p"},"/pages/api/preview"),"."),(0,r.kt)("h3",{id:"usage"},"Usage"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},"// pages/api/preview.js\nimport { previewHandler } from '@10up/headless-next';\n\nexport default async function handler(req, res) {\n    return previewHandler(req, res);\n}\n")),(0,r.kt)("h4",{id:"parameters"},"Parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"req")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"NextApiRequest")),(0,r.kt)("td",{parentName:"tr",align:"left"},"The request object,")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"res")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"NextApiResponse"),"<",(0,r.kt)("inlineCode",{parentName:"td"},"any"),">"),(0,r.kt)("td",{parentName:"tr",align:"left"},"The response object.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"options")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("a",{parentName:"td",href:"/api/modules/10up_headless_next#previewhandleroptions"},(0,r.kt)("inlineCode",{parentName:"a"},"PreviewHandlerOptions"))),(0,r.kt)("td",{parentName:"tr",align:"left"},"The PreviewHandlerOptions ",(0,r.kt)("a",{parentName:"td",href:"/api/modules/10up_headless_next#previewhandleroptions"},"PreviewHandlerOptions"))))),(0,r.kt)("h4",{id:"returns"},"Returns"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"void")," ","|"," ",(0,r.kt)("inlineCode",{parentName:"p"},"NextApiResponse"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"any"),">",">"),(0,r.kt)("p",null,"A response object."),(0,r.kt)("h4",{id:"defined-in"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/10up/headless/blob/dc33717/packages/next/src/handlers/previewHandler.ts#L80"},"packages/next/src/handlers/previewHandler.ts:80")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"revalidatehandler"},"revalidateHandler"),(0,r.kt)("p",null,"\u25b8 ",(0,r.kt)("strong",{parentName:"p"},"revalidateHandler"),"(",(0,r.kt)("inlineCode",{parentName:"p"},"req"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"res"),"): ",(0,r.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"void"),">"),(0,r.kt)("p",null,"The RevalidateHandler is responsible for handling revalidate requests."),(0,r.kt)("p",null,"Handling revalidate requires the Headless WordPress Plugin."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Important"),": This function is meant to be used in a api route e.g: ",(0,r.kt)("inlineCode",{parentName:"p"},"/pages/api/revalidate"),"."),(0,r.kt)("h3",{id:"usage-1"},"Usage"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},"// pages/api/revalidate.js\nimport { revalidateHandler } from '@10up/headless-next';\n\nexport default async function handler(req, res) {\n    return revalidateHandler(req, res);\n}\n")),(0,r.kt)("h4",{id:"parameters-1"},"Parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"req")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"NextApiRequest")),(0,r.kt)("td",{parentName:"tr",align:"left"},"The request object,")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"res")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"NextApiResponse"),"<",(0,r.kt)("inlineCode",{parentName:"td"},"any"),">"),(0,r.kt)("td",{parentName:"tr",align:"left"},"The response object.")))),(0,r.kt)("h4",{id:"returns-1"},"Returns"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"void"),">"),(0,r.kt)("p",null,"A response object."),(0,r.kt)("h4",{id:"defined-in-1"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/10up/headless/blob/dc33717/packages/next/src/handlers/revalidateHandler.ts#L30"},"packages/next/src/handlers/revalidateHandler.ts:30")),(0,r.kt)("h2",{id:"data-fetching-hooks"},"Data Fetching Hooks"),(0,r.kt)("h3",{id:"useappsettings"},"useAppSettings"),(0,r.kt)("p",null,"\u25b8 ",(0,r.kt)("strong",{parentName:"p"},"useAppSettings"),"(",(0,r.kt)("inlineCode",{parentName:"p"},"params?"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"options?"),"): ",(0,r.kt)("a",{parentName:"p",href:"/api/interfaces/10up_headless_next.useAppSettingsResponse"},(0,r.kt)("inlineCode",{parentName:"a"},"useAppSettingsResponse"))),(0,r.kt)("p",null,"The useAppSettings hook"),(0,r.kt)("h2",{id:"usage-2"},"Usage"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-tsx"},"const { data, loading, error } = useAppSettings();\n\n// check loading and error states\n")),(0,r.kt)("h3",{id:"server-side-rendering-or-static-site-generation"},"Server-Side-Rendering or Static-Site-Generation"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-tsx"},"export async function getServerSideProps(context) {\n    const useAppSettingsData = await fetchHookData(useAppSettings.fetcher(), context);\n    return addHookData([useAppSettingsData], {});\n}\n")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Important"),": You most likely want to fetch app settings on every route so\nthat you can access global settings and menus in your pages & components"),(0,r.kt)("h4",{id:"parameters-2"},"Parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"params")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"Object")),(0,r.kt)("td",{parentName:"tr",align:"left"},"The parameters accepted by the hook")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"options")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"FetchHookOptions"),"<",(0,r.kt)("inlineCode",{parentName:"td"},"FetchResponse"),"<",(0,r.kt)("inlineCode",{parentName:"td"},"AppEntity"),">",">"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Options for the SWR configuration")))),(0,r.kt)("h4",{id:"returns-2"},"Returns"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"/api/interfaces/10up_headless_next.useAppSettingsResponse"},(0,r.kt)("inlineCode",{parentName:"a"},"useAppSettingsResponse"))),(0,r.kt)("h4",{id:"defined-in-2"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/10up/headless/blob/dc33717/packages/next/src/data/hooks/useAppSettings.ts#L36"},"packages/next/src/data/hooks/useAppSettings.ts:36")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"useauthorarchive"},"useAuthorArchive"),(0,r.kt)("p",null,"\u25b8 ",(0,r.kt)("strong",{parentName:"p"},"useAuthorArchive"),"(",(0,r.kt)("inlineCode",{parentName:"p"},"params?"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"options?"),"): ",(0,r.kt)("inlineCode",{parentName:"p"},"usePostsResponse")),(0,r.kt)("p",null,"The useAuthorArchive hook. Returns a collection of post entities queried by author"),(0,r.kt)("p",null,"This hook must be used with a catch-all route ",(0,r.kt)("inlineCode",{parentName:"p"},"[...path].js")," (e.g: ",(0,r.kt)("inlineCode",{parentName:"p"},"pages/author/[...path].js"),")"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Important"),": Use a catch-all and not an optional catch-all route (",(0,r.kt)("inlineCode",{parentName:"p"},"[[...path]].js"),") as the author param in the url is required."),(0,r.kt)("p",null,"In order to automatically map URL params create a catch-all route named ",(0,r.kt)("inlineCode",{parentName:"p"},"[...path].js"),".\nYou can create the catch-all at any level e.g: ",(0,r.kt)("inlineCode",{parentName:"p"},"pages/author/[...path].js"),", etc."),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"pages/author/[...path].js")," route for instance would yield a URL like this: ",(0,r.kt)("inlineCode",{parentName:"p"},"/author-name/page/2"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"/author-name/category/category-name/page/3"),", etc."),(0,r.kt)("p",null,"The following URL params are supported:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Category (/author-name/category/category-name)"),(0,r.kt)("li",{parentName:"ul"},"Tag (/author-name/tag/tag-name)"),(0,r.kt)("li",{parentName:"ul"},"Author (/author/author-name)"),(0,r.kt)("li",{parentName:"ul"},"Pagination (/page/2)"),(0,r.kt)("li",{parentName:"ul"},"Custom Taxonomy (/author//taxonomy/term-name)")),(0,r.kt)("h2",{id:"usage-3"},"Usage"),(0,r.kt)("h3",{id:"fetching-an-author-archive"},"Fetching an author archive"),(0,r.kt)("p",null,"{@codeblock ~~/examples/next/useAuthorArchive.tsx#list-of-post}"),(0,r.kt)("h3",{id:"fetching-an-author-archive-of-pages"},"Fetching an author archive of pages"),(0,r.kt)("p",null,"{@codeblock ~~/examples/next/useAuthorArchive.tsx#list-of-pages}"),(0,r.kt)("h3",{id:"server-side-rendering-or-static-site-generation-1"},"Server-Side-Rendering or Static-Site-Generation"),(0,r.kt)("p",null,"{@codeblock ~~/examples/next/useAuthorArchive.tsx#ssr-ssg}"),(0,r.kt)("h4",{id:"parameters-3"},"Parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"params")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"PostsArchiveParams")),(0,r.kt)("td",{parentName:"tr",align:"left"},"The parameters accepted by the hook")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"options")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"FetchHookOptions"),"<",(0,r.kt)("inlineCode",{parentName:"td"},"FetchResponse"),"<",(0,r.kt)("inlineCode",{parentName:"td"},"PostEntity"),"[]",">",">"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Options for the SWR configuration")))),(0,r.kt)("h4",{id:"returns-3"},"Returns"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"usePostsResponse")),(0,r.kt)("h4",{id:"defined-in-3"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/10up/headless/blob/dc33717/packages/next/src/data/hooks/useAuthorArchive.ts#L43"},"packages/next/src/data/hooks/useAuthorArchive.ts:43")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"usemenu"},"useMenu"),(0,r.kt)("p",null,"\u25b8 ",(0,r.kt)("strong",{parentName:"p"},"useMenu"),"(",(0,r.kt)("inlineCode",{parentName:"p"},"menuLocation"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"options?"),"): ",(0,r.kt)("inlineCode",{parentName:"p"},"useMenuResponse")),(0,r.kt)("p",null,"The useMenu hooks. Returns a Menu object."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Important"),": This hook depends on ",(0,r.kt)("a",{parentName:"p",href:"/api/modules/10up_headless_next#useappsettings"},"useAppSettings"),". If you want to enable SSR;SSG for\nthis hook you will need to fetch app settings on the server side."),(0,r.kt)("h2",{id:"usage-4"},"Usage"),(0,r.kt)("h3",{id:"basic-usage"},"Basic usage"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-tsx"},"export const Nav = () => {\n    const { data, loading, error } = useMenu('primary-menu');\n\n    // handle loading, error states\n\n    return <Menu items={data} css={navStyles} />;\n}\n")),(0,r.kt)("h3",{id:"re-fetching-client-side-on-focus-andor-mount"},"Re-fetching client-side on focus and/or mount"),(0,r.kt)("p",null,"If you are fetching app settings on the server, you can enable re-fetching on focus and/or mount\nto ensure menus are always up-to date even when using SSG/ISR."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-tsx"},"export const Nav = () => {\n    const { data, loading, error } = useMenu('primary-menu', {\n        revalidateOnFocus: true,\n        revalidateOnMount: true,\n    });\n\n    // handle loading, error states\n\n    return <Menu items={data} css={navStyles} />;\n}\n")),(0,r.kt)("h4",{id:"parameters-4"},"Parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"menuLocation")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"string")),(0,r.kt)("td",{parentName:"tr",align:"left"},"The slug of the menu location you want to fetch")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"options")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"FetchHookOptions"),"<",(0,r.kt)("inlineCode",{parentName:"td"},"FetchResponse"),"<",(0,r.kt)("inlineCode",{parentName:"td"},"AppEntity"),">",">"),(0,r.kt)("td",{parentName:"tr",align:"left"},"SWR configuration options")))),(0,r.kt)("h4",{id:"returns-4"},"Returns"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"useMenuResponse")),(0,r.kt)("h4",{id:"defined-in-4"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/10up/headless/blob/dc33717/packages/next/src/data/hooks/useMenu.ts#L46"},"packages/next/src/data/hooks/useMenu.ts:46")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"usepost"},"usePost"),(0,r.kt)("p",null,"\u25b8 ",(0,r.kt)("strong",{parentName:"p"},"usePost"),"(",(0,r.kt)("inlineCode",{parentName:"p"},"params?"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"options?"),"): ",(0,r.kt)("inlineCode",{parentName:"p"},"usePostResponse")),(0,r.kt)("p",null,"The usePost hook. Returns a single post entity"),(0,r.kt)("h2",{id:"usage-5"},"Usage"),(0,r.kt)("h3",{id:"fetching-a-post-by-slug"},"Fetching a post by slug"),(0,r.kt)("p",null,"{@codeblock ~~/examples/next/usePost.tsx#post-by-slug}"),(0,r.kt)("h3",{id:"fetching-a-page-by-slug"},"Fetching a page by slug"),(0,r.kt)("p",null,"{@codeblock ~~/examples/next/usePost.tsx#page-by-slug}"),(0,r.kt)("h3",{id:"fetching-a-post-or-page-by-slug"},"Fetching a post or page by slug"),(0,r.kt)("p",null,"{@codeblock ~~/examples/next/usePost.tsx#post-page-by-slug}"),(0,r.kt)("h3",{id:"custom-post-type"},"Custom Post Type"),(0,r.kt)("p",null,"{@codeblock ~~/examples/next/usePost.tsx#cpt}"),(0,r.kt)("h3",{id:"automatically-mapping-url-params-in-nextjs"},"Automatically mapping URL params in Next.js"),(0,r.kt)("p",null,"In order to automatically map URL params create a catch-all route named ",(0,r.kt)("inlineCode",{parentName:"p"},"[...path].js"),".\nYou can create the catch-all at any level e.g: ",(0,r.kt)("inlineCode",{parentName:"p"},"pages/[...path].js"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"pages/blog/[...path].js"),", etc."),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"pages/[...path].js")," route for instance would yield a URL like this: ",(0,r.kt)("inlineCode",{parentName:"p"},"/post-slug"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"/2020/01/01/post-slug"),", etc."),(0,r.kt)("p",null,"{@codeblock ~~/examples/next/usePost.tsx#url-params}"),(0,r.kt)("h3",{id:"server-side-rendering-or-static-site-generation-2"},"Server-Side-Rendering or Static-Site-Generation"),(0,r.kt)("p",null,"{@codeblock ~~/examples/next/usePost.tsx#ssr-ssg}"),(0,r.kt)("h4",{id:"parameters-5"},"Parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"params")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"PostParams")),(0,r.kt)("td",{parentName:"tr",align:"left"},"The parameters accepted by the hook")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"options")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"FetchHookOptions"),"<",(0,r.kt)("inlineCode",{parentName:"td"},"FetchResponse"),"<",(0,r.kt)("inlineCode",{parentName:"td"},"PostEntity"),">",">"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Options for the SWR configuration")))),(0,r.kt)("h4",{id:"returns-5"},"Returns"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"usePostResponse")),(0,r.kt)("h4",{id:"defined-in-5"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/10up/headless/blob/dc33717/packages/next/src/data/hooks/usePost.ts#L39"},"packages/next/src/data/hooks/usePost.ts:39")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"useposts"},"usePosts"),(0,r.kt)("p",null,"\u25b8 ",(0,r.kt)("strong",{parentName:"p"},"usePosts"),"(",(0,r.kt)("inlineCode",{parentName:"p"},"params?"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"options?"),"): ",(0,r.kt)("inlineCode",{parentName:"p"},"usePostsResponse")),(0,r.kt)("p",null,"The usePost hook. Returns a collection of post entities"),(0,r.kt)("h2",{id:"usage-6"},"Usage"),(0,r.kt)("h3",{id:"fetching-a-list-of-posts"},"Fetching a list of posts"),(0,r.kt)("p",null,"{@codeblock ~~/examples/next/usePosts.tsx#list-of-post}"),(0,r.kt)("h3",{id:"fetching-a-list-of-pages"},"Fetching a list of pages"),(0,r.kt)("p",null,"{@codeblock ~~/examples/next/usePosts.tsx#list-of-pages}"),(0,r.kt)("h3",{id:"fetching-a-list-of-posts-from-a-custom-post-type"},"Fetching a list of posts from a custom post type"),(0,r.kt)("p",null,"{@codeblock ~~/examples/next/usePosts.tsx#cpt}"),(0,r.kt)("h3",{id:"automatically-mapping-url-params-in-nextjs-1"},"Automatically mapping URL params in Next.js"),(0,r.kt)("p",null,"In order to automatically map URL params create a catch-all route named ",(0,r.kt)("inlineCode",{parentName:"p"},"[[...path]].js"),".\nYou can create the catch-all at any level e.g: ",(0,r.kt)("inlineCode",{parentName:"p"},"pages/[[...path]].js"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"pages/blog/[[...path]].js"),", etc."),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"pages/blog/[[...path]].js")," route for instance would yield a URL like this: ",(0,r.kt)("inlineCode",{parentName:"p"},"/blog"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"/blog/page/2"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"/blog/category/category-name/page/3"),", etc."),(0,r.kt)("p",null,"The following URL params are supported:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Category (/category/category-name)"),(0,r.kt)("li",{parentName:"ul"},"Tag (/tag/tag-name)"),(0,r.kt)("li",{parentName:"ul"},"Author (/author/author-name)"),(0,r.kt)("li",{parentName:"ul"},"Pagination (/page/2)"),(0,r.kt)("li",{parentName:"ul"},"Date (/YYYY/MM/DD)"),(0,r.kt)("li",{parentName:"ul"},"Custom Taxonomy (/taxonomy/term-name)")),(0,r.kt)("p",null,"{@codeblock ~~/examples/next/usePosts.tsx#url-params}"),(0,r.kt)("h3",{id:"handling-multiple-wordpress-routes-in-a-single-nextjs-route"},"Handling multiple WordPress routes in a single next.js route"),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"usePosts")," hook is very flexible and can handle multiple WordPress routes in a single next.js route when using the optional-catch-all route (",(0,r.kt)("inlineCode",{parentName:"p"},"[[...path]].js"),").\nAlongisde with the actual data, ",(0,r.kt)("inlineCode",{parentName:"p"},"usePosts")," also returns information about the current route so you can conditionally load different components."),(0,r.kt)("p",null,"{@codeblock ~~/examples/next/usePosts.tsx#multiple-wordpress-routes}"),(0,r.kt)("h3",{id:"taxonomy-archive-pages"},"Taxonomy Archive Pages"),(0,r.kt)("p",null,"If you want to create specific routes for taxonomy archive pages,\nyou can use the ",(0,r.kt)("inlineCode",{parentName:"p"},"taxonomy")," param to specify the taxonomy slug. When doing so, the term slug will be\nextracted from the URL."),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"},"Important"),": When creating taxonomy archive routes, you should not use the optional catch-all (...path.js) route, instead use the\ncatch-all (","[...path]",".js) route as the term name in the URL is required for your route."),(0,r.kt)("p",null,"{@codeblock ~~/examples/next/usePosts.tsx#taxonomy-page}"),(0,r.kt)("h3",{id:"author-archive-pages"},"Author Archive Pages"),(0,r.kt)("p",null,"IF you want to create specific routes for author archive pages (such as `pages/author/","[...path.js]",") use the ",(0,r.kt)("a",{parentName:"p",href:"/api/modules/10up_headless_next#useauthorarchive"},"useAuthorArchive")," hook."),(0,r.kt)("p",null,'If you\'re you are not using the built-in WordPress authors for your author archives pages check the section "Taxonomy Archive Pages"'),(0,r.kt)("h3",{id:"server-side-rendering-or-static-site-generation-3"},"Server-Side-Rendering or Static-Site-Generation"),(0,r.kt)("p",null,"{@codeblock ~~/examples/next/usePosts.tsx#ssr-ssg}"),(0,r.kt)("h4",{id:"parameters-6"},"Parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"params")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"PostsArchiveParams")),(0,r.kt)("td",{parentName:"tr",align:"left"},"The parameters accepted by the hook")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"options")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"FetchHookOptions"),"<",(0,r.kt)("inlineCode",{parentName:"td"},"FetchResponse"),"<",(0,r.kt)("inlineCode",{parentName:"td"},"PostEntity"),"[]",">",">"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Options for the SWR configuration")))),(0,r.kt)("h4",{id:"returns-6"},"Returns"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"usePostsResponse")),(0,r.kt)("h4",{id:"defined-in-6"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/10up/headless/blob/dc33717/packages/next/src/data/hooks/usePosts.ts#L73"},"packages/next/src/data/hooks/usePosts.ts:73")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"usesearch"},"useSearch"),(0,r.kt)("p",null,"\u25b8 ",(0,r.kt)("strong",{parentName:"p"},"useSearch"),"(",(0,r.kt)("inlineCode",{parentName:"p"},"params?"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"options?"),"): ",(0,r.kt)("inlineCode",{parentName:"p"},"useSearchResponse")),(0,r.kt)("p",null,"The useSearch hook. Returns a collection of search entities"),(0,r.kt)("h2",{id:"usage-7"},"Usage"),(0,r.kt)("h3",{id:"basic-search-automatically-mapping-url-params-in-nextjs"},"Basic search automatically mapping URL params in Next.js"),(0,r.kt)("p",null,"In order to automatically map URL params create a catch-all route named ",(0,r.kt)("inlineCode",{parentName:"p"},"[...path].js"),".\nYou can create the catch-all at any level e.g: ",(0,r.kt)("inlineCode",{parentName:"p"},"pages/search/[[...path]].js")),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"pages/search/[[...path]].js")," route for instance would yield a URL like this: ",(0,r.kt)("inlineCode",{parentName:"p"},"/search/[term]/page/[number]"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"/search/[term]")," etc"),(0,r.kt)("p",null,"{@codeblock ~~/examples/next/useSearch.tsx#basic-search}"),(0,r.kt)("h3",{id:"server-side-rendering-or-static-site-generation-4"},"Server-Side-Rendering or Static-Site-Generation"),(0,r.kt)("p",null,"{@codeblock ~~/examples/next/useSearch.tsx#ssr-ssg}"),(0,r.kt)("h4",{id:"parameters-7"},"Parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"params")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"PostsArchiveParams")),(0,r.kt)("td",{parentName:"tr",align:"left"},"The parameters accepted by the hook")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"options")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"FetchHookOptions"),"<",(0,r.kt)("inlineCode",{parentName:"td"},"FetchResponse"),"<",(0,r.kt)("inlineCode",{parentName:"td"},"PostEntity"),"[]",">",">"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Options for the SWR configuration")))),(0,r.kt)("h4",{id:"returns-7"},"Returns"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"useSearchResponse")),(0,r.kt)("h4",{id:"defined-in-7"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/10up/headless/blob/dc33717/packages/next/src/data/hooks/useSearch.ts#L28"},"packages/next/src/data/hooks/useSearch.ts:28")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"useterms"},"useTerms"),(0,r.kt)("p",null,"\u25b8 ",(0,r.kt)("strong",{parentName:"p"},"useTerms"),"(",(0,r.kt)("inlineCode",{parentName:"p"},"params?"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"options?"),"): ",(0,r.kt)("inlineCode",{parentName:"p"},"useTermsResponse")),(0,r.kt)("p",null,"The useTerms hook. Returns a collection of term entities"),(0,r.kt)("h2",{id:"usage-8"},"Usage"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-tsx"},"const { loading, data } = useTerms({ taxonomy: 'category', slug: 'cat-name' });\n")),(0,r.kt)("h4",{id:"parameters-8"},"Parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"params")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"TaxonomyArchiveParams")),(0,r.kt)("td",{parentName:"tr",align:"left"},"The parameters accepted by the hook")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"options")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"FetchHookOptions"),"<",(0,r.kt)("inlineCode",{parentName:"td"},"FetchResponse"),"<",(0,r.kt)("inlineCode",{parentName:"td"},"TermEntity"),"[]",">",">"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Options for the SWR configuration")))),(0,r.kt)("h4",{id:"returns-8"},"Returns"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"useTermsResponse")),(0,r.kt)("h4",{id:"defined-in-8"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/10up/headless/blob/dc33717/packages/next/src/data/hooks/useTerms.ts#L20"},"packages/next/src/data/hooks/useTerms.ts:20")),(0,r.kt)("h2",{id:"nextjs-data-fetching-utilities"},"Next.js Data Fetching Utilities"),(0,r.kt)("h3",{id:"addhookdata"},"addHookData"),(0,r.kt)("p",null,"\u25b8 ",(0,r.kt)("strong",{parentName:"p"},"addHookData"),"(",(0,r.kt)("inlineCode",{parentName:"p"},"hookStates"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"nextProps"),"): ",(0,r.kt)("inlineCode",{parentName:"p"},"any")),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"addHookData")," function is responsible for collecting all of the results from the ",(0,r.kt)("inlineCode",{parentName:"p"},"fetchHookData")," function calls\nand prepares the shape of the data to match what the frameworks expects (such as setting initial values for SWR and collecting SEO data)."),(0,r.kt)("h2",{id:"usage-9"},"Usage"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},"export async function getServerSideProps(context) {\n    try {\n        const usePostsHook = await fetchHookData(usePosts.fetcher(),context);\n        const useAppSettingsHook = await fetchHookData(useAppSettings.fetcher(),context);\n        return addHookData([usePostsHook, useAppSettingsHook], {});\n    } catch (e) {\n        return handleError(e, context);\n    }\n}\n")),(0,r.kt)("h4",{id:"parameters-9"},"Parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"hookStates")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("a",{parentName:"td",href:"/api/modules/10up_headless_next#hookstate"},(0,r.kt)("inlineCode",{parentName:"a"},"HookState")),"[]"),(0,r.kt)("td",{parentName:"tr",align:"left"},"An array of resolved promises from ",(0,r.kt)("a",{parentName:"td",href:"/api/modules/10up_headless_next#fetchhookdata"},"fetchHookData"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"nextProps")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"any")),(0,r.kt)("td",{parentName:"tr",align:"left"},"Any additional props to pass to Next.js page routes.")))),(0,r.kt)("h4",{id:"returns-9"},"Returns"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"any")),(0,r.kt)("h4",{id:"defined-in-9"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/10up/headless/blob/dc33717/packages/next/src/data/utils.ts#L183"},"packages/next/src/data/utils.ts:183")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"converttopath"},"convertToPath"),(0,r.kt)("p",null,"\u25b8 ",(0,r.kt)("strong",{parentName:"p"},"convertToPath"),"(",(0,r.kt)("inlineCode",{parentName:"p"},"args"),"): ",(0,r.kt)("inlineCode",{parentName:"p"},"string")),(0,r.kt)("p",null,"Creates a path from array of arguments"),(0,r.kt)("h4",{id:"parameters-10"},"Parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"args")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"undefined")," ","|"," ",(0,r.kt)("inlineCode",{parentName:"td"},"string"),"[]"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Array of catch-all arguments")))),(0,r.kt)("h4",{id:"returns-10"},"Returns"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"string")),(0,r.kt)("h4",{id:"defined-in-10"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/10up/headless/blob/dc33717/packages/next/src/data/utils.ts#L42"},"packages/next/src/data/utils.ts:42")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"fetchhookdata"},"fetchHookData"),(0,r.kt)("p",null,"\u25b8 ",(0,r.kt)("strong",{parentName:"p"},"fetchHookData"),"(",(0,r.kt)("inlineCode",{parentName:"p"},"fetchStrategy"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"ctx"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"options?"),"): ",(0,r.kt)("inlineCode",{parentName:"p"},"Promise"),"<{ ",(0,r.kt)("inlineCode",{parentName:"p"},"data"),": { ",(0,r.kt)("inlineCode",{parentName:"p"},"pageInfo"),": ",(0,r.kt)("inlineCode",{parentName:"p"},"PageInfo")," ; ",(0,r.kt)("inlineCode",{parentName:"p"},"queriedObject"),": ",(0,r.kt)("inlineCode",{parentName:"p"},"QueriedObject")," ; ",(0,r.kt)("inlineCode",{parentName:"p"},"result"),": ",(0,r.kt)("inlineCode",{parentName:"p"},"any"),"  } ; ",(0,r.kt)("inlineCode",{parentName:"p"},"isMainQuery"),": ",(0,r.kt)("inlineCode",{parentName:"p"},"boolean")," ; ",(0,r.kt)("inlineCode",{parentName:"p"},"key"),": ",(0,r.kt)("inlineCode",{parentName:"p"},"string"),"  }",">"),(0,r.kt)("p",null,"A function that implementeds data fetching on the server. This should be used in ",(0,r.kt)("inlineCode",{parentName:"p"},"getServerSideProps"),"\nor ",(0,r.kt)("inlineCode",{parentName:"p"},"getStaticProps"),"."),(0,r.kt)("p",null,"Data fetching will be perfomed by the specified strategy and URL params will be automatically extracted\nfrom `context"),(0,r.kt)("h2",{id:"usage-10"},"Usage"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},"export async function getServerSideProps(context) {\n    try {\n        const usePostsHook = await fetchHookData(usePosts.fetcher(),context);\n\n        return addHookData([usePostsHook], {});\n    } catch (e) {\n        return handleError(e, context);\n    }\n}\n")),(0,r.kt)("p",null,"@param fetchStrategy The fetch strategy to use. Typically this is exposed by the hook e.g: ",(0,r.kt)("inlineCode",{parentName:"p"},"usePosts.fetcher()"),"\n@param ctx The Next.js context, either the one from ",(0,r.kt)("inlineCode",{parentName:"p"},"getServerSideProps")," or ",(0,r.kt)("inlineCode",{parentName:"p"},"getStaticProps"),"\n@param options See {@link FetchHookDataOptions}"),(0,r.kt)("p",null,"@returns An object with a key of ",(0,r.kt)("inlineCode",{parentName:"p"},"data")," and a value of the fetched data."),(0,r.kt)("h4",{id:"parameters-11"},"Parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"fetchStrategy")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"AbstractFetchStrategy"),"<",(0,r.kt)("inlineCode",{parentName:"td"},"any"),", ",(0,r.kt)("inlineCode",{parentName:"td"},"EndpointParams"),", ",(0,r.kt)("inlineCode",{parentName:"td"},"any"),">")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"ctx")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"GetServerSidePropsContext"),"<",(0,r.kt)("inlineCode",{parentName:"td"},"any"),", ",(0,r.kt)("inlineCode",{parentName:"td"},"PreviewData"),">"," ","|"," ",(0,r.kt)("inlineCode",{parentName:"td"},"GetStaticPropsContext"),"<",(0,r.kt)("inlineCode",{parentName:"td"},"any"),", ",(0,r.kt)("inlineCode",{parentName:"td"},"PreviewData"),">")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"options")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("a",{parentName:"td",href:"/api/interfaces/10up_headless_next.FetchHookDataOptions"},(0,r.kt)("inlineCode",{parentName:"a"},"FetchHookDataOptions")))))),(0,r.kt)("h4",{id:"returns-11"},"Returns"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Promise"),"<{ ",(0,r.kt)("inlineCode",{parentName:"p"},"data"),": { ",(0,r.kt)("inlineCode",{parentName:"p"},"pageInfo"),": ",(0,r.kt)("inlineCode",{parentName:"p"},"PageInfo")," ; ",(0,r.kt)("inlineCode",{parentName:"p"},"queriedObject"),": ",(0,r.kt)("inlineCode",{parentName:"p"},"QueriedObject")," ; ",(0,r.kt)("inlineCode",{parentName:"p"},"result"),": ",(0,r.kt)("inlineCode",{parentName:"p"},"any"),"  } ; ",(0,r.kt)("inlineCode",{parentName:"p"},"isMainQuery"),": ",(0,r.kt)("inlineCode",{parentName:"p"},"boolean")," ; ",(0,r.kt)("inlineCode",{parentName:"p"},"key"),": ",(0,r.kt)("inlineCode",{parentName:"p"},"string"),"  }",">"),(0,r.kt)("h4",{id:"defined-in-11"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/10up/headless/blob/dc33717/packages/next/src/data/utils.ts#L101"},"packages/next/src/data/utils.ts:101")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"handleerror"},"handleError"),(0,r.kt)("p",null,"\u25b8 ",(0,r.kt)("strong",{parentName:"p"},"handleError"),"(",(0,r.kt)("inlineCode",{parentName:"p"},"error"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"ctx"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"rootRoute?"),"): ",(0,r.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"GetServerSidePropsResult"),"<{}",">",">"),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"handleError")," function is responsible for handling errors that occur during\ndata fetching in ",(0,r.kt)("inlineCode",{parentName:"p"},"getServerSideProps")," or ",(0,r.kt)("inlineCode",{parentName:"p"},"getStaticProps"),"."),(0,r.kt)("p",null,"It also handles redirects if ",(0,r.kt)("inlineCode",{parentName:"p"},"redirectStrategy")," is set to ",(0,r.kt)("inlineCode",{parentName:"p"},"404")," in ",(0,r.kt)("inlineCode",{parentName:"p"},"headless.config.js")),(0,r.kt)("p",null,"If ",(0,r.kt)("inlineCode",{parentName:"p"},"error")," is of type NotFoundError it will redirect to the 404 page. Otherwise it will\nreturn a server error (500) page"),(0,r.kt)("h2",{id:"usage-11"},"Usage"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},"export async function getServerSideProps(context) {\n    try {\n        const usePostsHook = await fetchHookData(usePosts.fetcher(),context);\n        return addHookData([usePostsHook], {});\n    } catch (e) {\n        return handleError(e, context);\n    }\n}\n")),(0,r.kt)("h4",{id:"parameters-12"},"Parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Default value"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"error")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"Error")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"undefined")),(0,r.kt)("td",{parentName:"tr",align:"left"},"The error object")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"ctx")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"GetServerSidePropsContext"),"<",(0,r.kt)("inlineCode",{parentName:"td"},"ParsedUrlQuery"),", ",(0,r.kt)("inlineCode",{parentName:"td"},"PreviewData"),">"),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"undefined")),(0,r.kt)("td",{parentName:"tr",align:"left"},"The Next.js context")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"rootRoute")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"string")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"''")),(0,r.kt)("td",{parentName:"tr",align:"left"},"The root route (deprecated/unnecessary). This needs to be revisited")))),(0,r.kt)("h4",{id:"returns-12"},"Returns"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"GetServerSidePropsResult"),"<{}",">",">"),(0,r.kt)("h4",{id:"defined-in-12"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/10up/headless/blob/dc33717/packages/next/src/data/utils.ts#L328"},"packages/next/src/data/utils.ts:328")),(0,r.kt)("h2",{id:"other"},"Other"),(0,r.kt)("h3",{id:"headlessappprops"},"HeadlessAppProps"),(0,r.kt)("p",null,"\u01ac ",(0,r.kt)("strong",{parentName:"p"},"HeadlessAppProps"),": ",(0,r.kt)("inlineCode",{parentName:"p"},"Object")),(0,r.kt)("p",null,"The props supported by ",(0,r.kt)("a",{parentName:"p",href:"/api/modules/10up_headless_next#headlessapp"},"HeadlessApp"),"."),(0,r.kt)("h4",{id:"type-declaration"},"Type declaration"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"children?")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"ReactNode")),(0,r.kt)("td",{parentName:"tr",align:"left"},"-")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"pageProps")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"any")),(0,r.kt)("td",{parentName:"tr",align:"left"},"The page props from next.js. It should contain ",(0,r.kt)("inlineCode",{parentName:"td"},"fallback"),", ",(0,r.kt)("inlineCode",{parentName:"td"},"themeJson")," and other props. Those props are added when using ",(0,r.kt)("inlineCode",{parentName:"td"},"fetchHookData")," and ",(0,r.kt)("inlineCode",{parentName:"td"},"addHookData")," ",(0,r.kt)("strong",{parentName:"td"},(0,r.kt)("inlineCode",{parentName:"strong"},"See"))," - ",(0,r.kt)("a",{parentName:"td",href:"/api/modules/10up_headless_next#fetchhookdata"},"fetchHookData")," - ",(0,r.kt)("a",{parentName:"td",href:"/api/modules/10up_headless_next#addhookdata"},"addHookData"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"settings")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"SettingsContextProps")),(0,r.kt)("td",{parentName:"tr",align:"left"},"Supported settings by the framework. Such as custom image component, custom link component etc. ",(0,r.kt)("strong",{parentName:"td"},(0,r.kt)("inlineCode",{parentName:"strong"},"See"))," SettingsContextProps")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"swrConfig")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"SWRConfiguration")),(0,r.kt)("td",{parentName:"tr",align:"left"},"Pass any configuration to the SWR library. Globally. These settings can be overriden at the hook level.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"useYoastHtml?")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"boolean")),(0,r.kt)("td",{parentName:"tr",align:"left"},"If true, will make the Yoast component use the ",(0,r.kt)("inlineCode",{parentName:"td"},"yoast_head")," raw html to populate meta tags instead of ",(0,r.kt)("inlineCode",{parentName:"td"},"yoast_head_json"),". ",(0,r.kt)("inlineCode",{parentName:"td"},"yoast_head")," is the default and preferable option.")))),(0,r.kt)("h4",{id:"defined-in-13"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/10up/headless/blob/dc33717/packages/next/src/components/HeadlessApp.tsx#L14"},"packages/next/src/components/HeadlessApp.tsx:14")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"hookstate"},"HookState"),(0,r.kt)("p",null,"\u01ac ",(0,r.kt)("strong",{parentName:"p"},"HookState"),": ",(0,r.kt)("inlineCode",{parentName:"p"},"Object")),(0,r.kt)("h4",{id:"type-declaration-1"},"Type declaration"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"data")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"FetchResponse"),"<",(0,r.kt)("inlineCode",{parentName:"td"},"ExpectedHookStateResponse"),">"," ","|"," ",(0,r.kt)("inlineCode",{parentName:"td"},"FetchResponse"),"<",(0,r.kt)("inlineCode",{parentName:"td"},"ExpectedHookStateResponse"),"[]",">")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"isMainQuery")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"boolean"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"key")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"string"))))),(0,r.kt)("h4",{id:"defined-in-14"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/10up/headless/blob/dc33717/packages/next/src/data/utils.ts#L154"},"packages/next/src/data/utils.ts:154")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"linkblockprops"},"LinkBlockProps"),(0,r.kt)("p",null,"\u01ac ",(0,r.kt)("strong",{parentName:"p"},"LinkBlockProps"),": ",(0,r.kt)("inlineCode",{parentName:"p"},"Object")),(0,r.kt)("h4",{id:"type-declaration-2"},"Type declaration"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"children?")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"ReactNode"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"domNode")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"Element"))))),(0,r.kt)("h4",{id:"defined-in-15"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/10up/headless/blob/dc33717/packages/next/src/blocks/LinkBlock.tsx#L8"},"packages/next/src/blocks/LinkBlock.tsx:8")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"previewhandleroptions"},"PreviewHandlerOptions"),(0,r.kt)("p",null,"\u01ac ",(0,r.kt)("strong",{parentName:"p"},"PreviewHandlerOptions"),": ",(0,r.kt)("inlineCode",{parentName:"p"},"Object")),(0,r.kt)("p",null,"The options supported by ",(0,r.kt)("a",{parentName:"p",href:"/api/modules/10up_headless_next#previewhandler"},"previewHandler")),(0,r.kt)("h4",{id:"type-declaration-3"},"Type declaration"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"onRedirect?")),(0,r.kt)("td",{parentName:"tr",align:"left"},"(",(0,r.kt)("inlineCode",{parentName:"td"},"req"),": ",(0,r.kt)("inlineCode",{parentName:"td"},"NextApiRequest"),", ",(0,r.kt)("inlineCode",{parentName:"td"},"res"),": ",(0,r.kt)("inlineCode",{parentName:"td"},"NextApiResponse"),", ",(0,r.kt)("inlineCode",{parentName:"td"},"previewData"),": ",(0,r.kt)("inlineCode",{parentName:"td"},"PreviewData"),") => ",(0,r.kt)("inlineCode",{parentName:"td"},"NextApiResponse"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"preparePreviewData?")),(0,r.kt)("td",{parentName:"tr",align:"left"},"(",(0,r.kt)("inlineCode",{parentName:"td"},"req"),": ",(0,r.kt)("inlineCode",{parentName:"td"},"NextApiRequest"),", ",(0,r.kt)("inlineCode",{parentName:"td"},"res"),": ",(0,r.kt)("inlineCode",{parentName:"td"},"NextApiResponse"),", ",(0,r.kt)("inlineCode",{parentName:"td"},"post"),": ",(0,r.kt)("inlineCode",{parentName:"td"},"PostEntity"),", ",(0,r.kt)("inlineCode",{parentName:"td"},"previewData"),": ",(0,r.kt)("inlineCode",{parentName:"td"},"PreviewData"),") => ",(0,r.kt)("inlineCode",{parentName:"td"},"PreviewData"))))),(0,r.kt)("h4",{id:"defined-in-16"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/10up/headless/blob/dc33717/packages/next/src/handlers/previewHandler.ts#L10"},"packages/next/src/handlers/previewHandler.ts:10")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"getsitefromcontext"},"getSiteFromContext"),(0,r.kt)("p",null,"\u25b8 ",(0,r.kt)("strong",{parentName:"p"},"getSiteFromContext"),"(",(0,r.kt)("inlineCode",{parentName:"p"},"ctx"),"): ",(0,r.kt)("inlineCode",{parentName:"p"},"HeadlessConfig")),(0,r.kt)("p",null,"Get site using context"),(0,r.kt)("h4",{id:"parameters-13"},"Parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"ctx")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"GetServerSidePropsContext"),"<",(0,r.kt)("inlineCode",{parentName:"td"},"ParsedUrlQuery"),", ",(0,r.kt)("inlineCode",{parentName:"td"},"PreviewData"),">"," ","|"," ",(0,r.kt)("inlineCode",{parentName:"td"},"GetStaticPropsContext"),"<",(0,r.kt)("inlineCode",{parentName:"td"},"ParsedUrlQuery"),", ",(0,r.kt)("inlineCode",{parentName:"td"},"PreviewData"),">")))),(0,r.kt)("h4",{id:"returns-13"},"Returns"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"HeadlessConfig")),(0,r.kt)("p",null,"HeadlessConfig"),(0,r.kt)("h4",{id:"defined-in-17"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/10up/headless/blob/dc33717/packages/next/src/data/utils.ts#L56"},"packages/next/src/data/utils.ts:56")),(0,r.kt)("h2",{id:"react-components"},"React Components"),(0,r.kt)("h3",{id:"headlessapp"},"HeadlessApp"),(0,r.kt)("p",null,"\u25b8 ",(0,r.kt)("strong",{parentName:"p"},"HeadlessApp"),"(",(0,r.kt)("inlineCode",{parentName:"p"},"props"),"): ",(0,r.kt)("inlineCode",{parentName:"p"},"Element")),(0,r.kt)("p",null,"The HeadlessApp component is the top level component for the Headless framework."),(0,r.kt)("p",null,"Should be used in ",(0,r.kt)("inlineCode",{parentName:"p"},"pages/_app.js")),(0,r.kt)("h2",{id:"usage-12"},"Usage"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-tsx"},'import { HeadlessApp } from "@10up/headless-next";\n\nconst MyApp = ({ Component, pageProps }) => {\n    const { fallback = {}, themeJson = {}, ...props } = pageProps;\n\n    return (\n        <HeadlessApp\n            pageProps={pageProps}\n            settings={{\n                // Pass your own link components here\n                linkComponent: Link,\n            }}\n        >\n            <Layout>\n                <Component {...props} />\n            </Layout>\n        </HeadlessApp>\n    );\n};\n\nexport default MyApp;\n')),(0,r.kt)("h4",{id:"parameters-14"},"Parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"props")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("a",{parentName:"td",href:"/api/modules/10up_headless_next#headlessappprops"},(0,r.kt)("inlineCode",{parentName:"a"},"HeadlessAppProps"))),(0,r.kt)("td",{parentName:"tr",align:"left"},"Component props. See ",(0,r.kt)("a",{parentName:"td",href:"/api/modules/10up_headless_next#headlessappprops"},"HeadlessAppProps"))))),(0,r.kt)("h4",{id:"returns-14"},"Returns"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Element")),(0,r.kt)("h4",{id:"defined-in-18"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/10up/headless/blob/dc33717/packages/next/src/components/HeadlessApp.tsx#L85"},"packages/next/src/components/HeadlessApp.tsx:85")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"imagecomponent"},"ImageComponent"),(0,r.kt)("p",null,"\u25b8 ",(0,r.kt)("strong",{parentName:"p"},"ImageComponent"),"(",(0,r.kt)("inlineCode",{parentName:"p"},"props"),"): ",(0,r.kt)("inlineCode",{parentName:"p"},"ReactNode")),(0,r.kt)("p",null,"An implementation of the ImageBlock (core/image)."),(0,r.kt)("p",null,"If ",(0,r.kt)("inlineCode",{parentName:"p"},"width"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"height")," or ",(0,r.kt)("inlineCode",{parentName:"p"},"src")," are not provided, this component will not be used."),(0,r.kt)("h2",{id:"usage-13"},"Usage"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-tsx"},'import { BlocksRenderer, ImageBlock } from "@10up/headless-core/react";\nimport { ImageComponent } from "@10up/headless-next";\n\n<BlocksRenderer html={html}>\n    <ImageBlock component={ImageComponent} />\n</BlocksRenderer>\n')),(0,r.kt)("h4",{id:"parameters-15"},"Parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"props")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"ImageBlockProps")),(0,r.kt)("td",{parentName:"tr",align:"left"},"ImageBlockProps")))),(0,r.kt)("h4",{id:"returns-15"},"Returns"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"ReactNode")),(0,r.kt)("h4",{id:"defined-in-19"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/10up/headless/blob/dc33717/packages/next/src/components/ImageComponent.tsx#L25"},"packages/next/src/components/ImageComponent.tsx:25")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"linkblock"},"LinkBlock"),(0,r.kt)("p",null,"\u25b8 ",(0,r.kt)("strong",{parentName:"p"},"LinkBlock"),"(",(0,r.kt)("inlineCode",{parentName:"p"},"props"),"): ",(0,r.kt)("inlineCode",{parentName:"p"},"Element")),(0,r.kt)("p",null,"The Link Block converts a anchor tag node into a next/link component if it's an internal link"),(0,r.kt)("h2",{id:"usage-14"},"Usage"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-tsx"},'import { BlocksRenderer } from "@10up/headless-core/react";\nimport { LinkBlock } from "@10up/headless-next";\n\n<BlocksRenderer html={html}>\n    <LinkBlock />\n</BlocksRenderer>\n')),(0,r.kt)("h4",{id:"parameters-16"},"Parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"props")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("a",{parentName:"td",href:"/api/modules/10up_headless_next#linkblockprops"},(0,r.kt)("inlineCode",{parentName:"a"},"LinkBlockProps"))),(0,r.kt)("td",{parentName:"tr",align:"left"},"Link Block Props")))),(0,r.kt)("h4",{id:"returns-16"},"Returns"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Element")),(0,r.kt)("p",null,"The next/link component"),(0,r.kt)("h4",{id:"defined-in-20"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/10up/headless/blob/dc33717/packages/next/src/blocks/LinkBlock.tsx#L35"},"packages/next/src/blocks/LinkBlock.tsx:35")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"twitterblock"},"TwitterBlock"),(0,r.kt)("p",null,"\u25b8 ",(0,r.kt)("strong",{parentName:"p"},"TwitterBlock"),"(",(0,r.kt)("inlineCode",{parentName:"p"},"props"),"): ",(0,r.kt)("inlineCode",{parentName:"p"},"Element")),(0,r.kt)("p",null,"Renders a twitter embed"),(0,r.kt)("h2",{id:"usage-15"},"Usage"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-tsx"},'import { BlocksRenderer } from "@10up/headless-core/react";\nimport { TwitterBlock } from "@10up/headless-next";\n\n<BlocksRenderer html={html}>\n    <TwitterBlock />\n</BlocksRenderer>\n')),(0,r.kt)("h4",{id:"parameters-17"},"Parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"props")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"Object")),(0,r.kt)("td",{parentName:"tr",align:"left"},"Link Block Props")))),(0,r.kt)("h4",{id:"returns-17"},"Returns"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Element")),(0,r.kt)("h4",{id:"defined-in-21"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/10up/headless/blob/dc33717/packages/next/src/blocks/TwitterBlock.tsx#L24"},"packages/next/src/blocks/TwitterBlock.tsx:24")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"yoast"},"Yoast"),(0,r.kt)("p",null,"\u25b8 ",(0,r.kt)("strong",{parentName:"p"},"Yoast"),"(",(0,r.kt)("inlineCode",{parentName:"p"},"props"),"): ",(0,r.kt)("inlineCode",{parentName:"p"},"Element")),(0,r.kt)("p",null,"The Yoast component renders the Yoast SEO meta tags.\nThis component is automatically rendered by ",(0,r.kt)("a",{parentName:"p",href:"/api/modules/10up_headless_next#headlessapp"},"HeadlessApp")," so you don't have to manually render it."),(0,r.kt)("h4",{id:"parameters-18"},"Parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"props")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"Props")),(0,r.kt)("td",{parentName:"tr",align:"left"},"Component props. Expects a single ",(0,r.kt)("inlineCode",{parentName:"td"},"seo")," prop")))),(0,r.kt)("h4",{id:"returns-18"},"Returns"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Element")),(0,r.kt)("h4",{id:"defined-in-22"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/10up/headless/blob/dc33717/packages/next/src/components/Yoast.tsx#L53"},"packages/next/src/components/Yoast.tsx:53")))}k.isMDXComponent=!0}}]);